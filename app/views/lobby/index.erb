<%= stylesheet_link_tag "lobby.styles", "data-turbo-track": "reload" %>

<main class="main">
  <section class="main__header">
    <div class="header__left">
      <div class="current__stats">
        <h6>Active Games:</h6>
        <span id="games-count" >24</span>
      </div>
      <div class="current__stats">
        <h6>Online Users:</h6>
        <span id="users-online">Loading...</span>
      </div>
    </div>
    <div class="header__right">
      <div data-turbo="false" class="user__form__container">
        <%= form_with model: User,  url: "/username", method: :post, id: 'user__form' do |form| %>
          <%= form.text_field :user, type: "text", class: "form-control", id: "username", value: @username %>
          <button class="btn btn-primary" type="submit">Set</button>
        <% end %>
      </div>
      <div class="create_btn__container">
        <button class="btn btn-primary">Create Room</button>
      </div>
      <div class="theme_icon__container">
        <%= image_tag 'sun', width: '30px', id: 'icon__sun' %>
        <%= image_tag 'moon', width: '30px', id: 'icon__moon' %>
      </div>
    </div>
  </section>
  <section class="main__lobby">
    <div class="lobby__users">
      <div class="users__title">
        <h6>Online</h6>
        <div class="dropdown">
          <button class="btn dropdown-toggle" type="button" id="btn-filter-users" data-bs-toggle="dropdown" aria-expanded="false">
            Filter Users
          </button>
          <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuButton2">
            <li><a class="dropdown-item active" href="#">Action</a></li>
            <li><a class="dropdown-item" href="#">Another action</a></li>
            <li><a class="dropdown-item" href="#">Something else here</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#">Separated link</a></li>
          </ul>
        </div>
      </div>
      <div id="users-container" class="users__container">

      </div>
    </div>
    <div class="lobby__rooms">
      <table id="rooms-table" aria-describedby="current active chess rooms" class="table table-striped">
        <thead>
        <tr>
          <th scope="col"><h6>Room name</h6></th>
          <th scope="col"><h6>Host</h6></th>
          <th scope="col"><h6>Players</h6></th>
          <th scope="col"><h6>Viewers</h6></th>
          <th scope="col"><h6>Description</h6></th>
          <th scope="col"></th>
          <th scope="col"></th>
          <th scope="col"></th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
        </thead>
        <tbody>
          <tr>
            <td class="tbody__container" colspan="10">
              <div class="table__container">
                <table class="table table-striped table-hover">
                  <tr>
                    <td>Kweeka's room</td>
                    <td>Kweeka</td>
                    <td>1</td>
                    <td></td>
                    <td>2</td>
                    <td></td>
                    <td></td>
                    <td>Feel free to join</td>
                    <td colspan="1">
                      <div class="grp-buttons">
                        <button type="button" class="btn btn-primary">Play</button>
                        <button type="button" class="btn btn-secondary">View</button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Kweeka's room</td>
                    <td>Kweeka</td>
                    <td>1</td>
                    <td></td>
                    <td>2</td>
                    <td></td>
                    <td></td>
                    <td>Feel free to join</td>
                    <td colspan="1">
                      <div class="grp-buttons">
                        <button type="button" class="btn btn-primary">Play</button>
                        <button type="button" class="btn btn-secondary">View</button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Kweeka's room</td>
                    <td>Kweeka</td>
                    <td>1</td>
                    <td></td>
                    <td>2</td>
                    <td></td>
                    <td></td>
                    <td>Feel free to join</td>
                    <td colspan="1">
                      <div class="grp-buttons">
                        <button type="button" class="btn btn-primary">Play</button>
                        <button type="button" class="btn btn-secondary">View</button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Kweeka's room</td>
                    <td>Kweeka</td>
                    <td>1</td>
                    <td></td>
                    <td>2</td>
                    <td></td>
                    <td></td>
                    <td>Feel free to join</td>
                    <td colspan="1">
                      <div class="grp-buttons">
                        <button type="button" class="btn btn-primary">Play</button>
                        <button type="button" class="btn btn-secondary">View</button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Kweeka's room</td>
                    <td>Kweeka</td>
                    <td>1</td>
                    <td></td>
                    <td>2</td>
                    <td></td>
                    <td></td>
                    <td>Feel free to join</td>
                    <td colspan="1">
                      <div class="grp-buttons">
                        <button type="button" class="btn btn-primary">Play</button>
                        <button type="button" class="btn btn-secondary">View</button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Kweeka's room</td>
                    <td>Kweeka</td>
                    <td>1</td>
                    <td></td>
                    <td>2</td>
                    <td></td>
                    <td></td>
                    <td>Feel free to join</td>
                    <td colspan="1">
                      <div class="grp-buttons">
                        <button type="button" class="btn btn-primary">Play</button>
                        <button type="button" class="btn btn-secondary">View</button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Kweeka's room</td>
                    <td>Kweeka</td>
                    <td>1</td>
                    <td></td>
                    <td>2</td>
                    <td></td>
                    <td></td>
                    <td>Feel free to join</td>
                    <td colspan="1">
                      <div class="grp-buttons">
                        <button type="button" class="btn btn-primary">Play</button>
                        <button type="button" class="btn btn-secondary">View</button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Kweeka's room</td>
                    <td>Kweeka</td>
                    <td>1</td>
                    <td></td>
                    <td>2</td>
                    <td></td>
                    <td></td>
                    <td>Feel free to join</td>
                    <td colspan="1">
                      <div class="grp-buttons">
                        <button type="button" class="btn btn-primary">Play</button>
                        <button type="button" class="btn btn-secondary">View</button>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td>Kweeka's room</td>
                    <td>Kweeka</td>
                    <td colspan="2">1</td>
                    <td colspan="3">2</td>
                    <td>Feel free to join</td>
                    <td colspan="1">
                      <div class="grp-buttons">
                        <button type="button" class="btn btn-primary">Play</button>
                        <button type="button" class="btn btn-secondary">View</button>
                      </div>
                    </td>
                  </tr>
                </table>
              </div>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
    <div class="lobby__global_chat">
      <div class="global_chat__title">
        <h6>Global Chat</h6>
      </div>
      <div id="global-chat" class="global_chat__container">

      </div>
      <div class="global_chat__input">
        <input id="global-chat-input" type="text" class="form-control">
        <button id="global-chat-send" class="btn btn-primary" type="button">send</button>
      </div>
    </div>
  </section>
</main>

<%= javascript_importmap_tags %>
<%= javascript_import_module_tag "channels/lobby_channel" %>
